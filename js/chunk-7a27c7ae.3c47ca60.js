(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a27c7ae"],{"146a":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"misc-wrapper"},[r("div",{staticClass:"tgwidjet"},[r("b-button",{on:{click:e.login}}),null===e.userInfo?r("p",{staticClass:"mb-2"},[e._v("ВХОД")]):e._e(),null===e.userInfo?r("vue-telegram-login",{attrs:{mode:"callback","telegram-login":"nalarmbot"},on:{callback:e.login}}):e._e()],1)])},i=[],a=r("5530"),o=(r("ac1f"),r("5319"),r("1947")),s=r("d226"),u=r("2f62"),c=r("ca6e"),l=r("84ca"),d={name:"TgLogin",components:{vueTelegramLogin:s["vueTelegramLogin"],BButton:o["a"]},data:function(){return{userInfo:""}},computed:Object(a["a"])({},Object(u["d"])("User",["User"])),beforeCreate:function(){},mounted:function(){this.getUser()},methods:Object(a["a"])(Object(a["a"])({},Object(u["b"])("User",["loginTg"])),{},{login:function(e){JSON.parse('{"id":1942868259,"first_name":"TraffisMoney","username":"goestothemoon","photo_url":"https://t.me/i/userpic/320/sSVTHIeLF-TsFBgoJE_ztHcWLKKP7-tvWg9NCD6F9z8.jpg","auth_date":1661073732,"hash":"b22fe9e6c1e3acbc4aaf008a374ffa9f71769188ec58494c9a3251d853d425c0"}');this.getUser(),this.checkAuth(e)},checkAuth:function(e){var t=this;this.loginTg(e).then((function(e){var r=[{action:"read",subject:"NotAuth"}];r.push({action:e.data.payload.userAbilities.action,resource:e.data.payload.userAbilities.resource}),t.$ability.update(r),t.$router.replace(Object(l["a"])(e.data.payload.userAbilities.user_type)),Object(c["e"])("Вход выполнен","Вы успешно авторизовались","CheckIcon","success","top-center")})).catch((function(e){}))},getUser:function(){this.userInfo=this.$cookies.get("usertg")},logout:function(){this.$cookies.remove("usertg"),this.getUser()}})},f=d,g=(r("9cde"),r("2877")),p=Object(g["a"])(f,n,i,!1,null,"4e0217e0",null);t["default"]=p.exports},5319:function(e,t,r){"use strict";var n=r("d784"),i=r("825a"),a=r("7b0b"),o=r("50c4"),s=r("a691"),u=r("1d80"),c=r("8aa5"),l=r("14c3"),d=Math.max,f=Math.min,g=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,v=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var b=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=n.REPLACE_KEEPS_$0,_=b?"$":"$0";return[function(r,n){var i=u(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,i,n):t.call(String(i),r,n)},function(e,n){if(!b&&m||"string"===typeof n&&-1===n.indexOf(_)){var a=r(t,e,this,n);if(a.done)return a.value}var u=i(e),g=String(this),p="function"===typeof n;p||(n=String(n));var h=u.global;if(h){var S=u.unicode;u.lastIndex=0}var A=[];while(1){var T=l(u,g);if(null===T)break;if(A.push(T),!h)break;var $=String(T[0]);""===$&&(u.lastIndex=c(g,o(u.lastIndex),S))}for(var j="",w=0,E=0;E<A.length;E++){T=A[E];for(var O=String(T[0]),C=d(f(s(T.index),g.length),0),k=[],x=1;x<T.length;x++)k.push(v(T[x]));var U=T.groups;if(p){var I=[O].concat(k,C,g);void 0!==U&&I.push(U);var P=String(n.apply(void 0,I))}else P=y(O,g,C,k,U,n);C>=w&&(j+=g.slice(w,C)+P,w=C+O.length)}return j+g.slice(w)}];function y(e,r,n,i,o,s){var u=n+e.length,c=i.length,l=h;return void 0!==o&&(o=a(o),l=p),t.call(s,l,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":s=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>c){var d=g(l/10);return 0===d?t:d<=c?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):t}s=i[l-1]}return void 0===s?"":s}))}}))},"589b":function(e,t,r){},"9cde":function(e,t,r){"use strict";r("589b")},d226:function(e,t,r){!function(t,r){e.exports=r()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n={name:"vue-telegram-login",props:{mode:{type:String,required:!0,validator:function(e){return["callback","redirect"].includes(e)}},telegramLogin:{type:String,required:!0,validator:function(e){return e.endsWith("bot")||e.endsWith("Bot")}},redirectUrl:{type:String,default:""},requestAccess:{type:String,default:"read",validator:function(e){return["read","write"].includes(e)}},size:{type:String,default:"large",validator:function(e){return["small","medium","large"].includes(e)}},userpic:{type:Boolean,default:!0},radius:{type:String}},methods:{onTelegramAuth:function(e){this.$emit("callback",e)}},mounted:function(){var e=document.createElement("script");e.async=!0,e.src="https://telegram.org/js/telegram-widget.js?3",e.setAttribute("data-size",this.size),e.setAttribute("data-userpic",this.userpic),e.setAttribute("data-telegram-login",this.telegramLogin),e.setAttribute("data-request-access",this.requestAccess),this.radius&&e.setAttribute("data-radius",this.radius),"callback"===this.mode?(window.onTelegramAuth=this.onTelegramAuth,e.setAttribute("data-onauth","window.onTelegramAuth(user)")):e.setAttribute("data-auth-url",this.redirectUrl),this.$refs.telegram.appendChild(e)}},i=function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"telegram"})};i._withStripped=!0;var a=function(e,t,r,n,i,a,o,s){var u=typeof(e=e||{}).default;"object"!==u&&"function"!==u||(e=e.default);var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId=a),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(e,t){return c.call(t),d(e,t)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:l}}(n,i,[],!1,null,null,null);a.options.__file="src/vue-telegram-login.vue";var o=a.exports;r.d(t,"vueTelegramLogin",(function(){return o}))}])}))}}]);